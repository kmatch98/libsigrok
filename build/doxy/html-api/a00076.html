<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libsigrok: Session handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="libsigrok_112x112.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libsigrok
   &#160;<span id="projectnumber">unreleased development snapshot</span>
   </div>
   <div id="projectbrief">sigrok hardware access and backend library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Session handling</div>  </div>
</div><!--header-->
<div class="contents">

<p>Creating, using, or destroying libsigrok sessions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83de7a88c9e1a41be0a421669369dbd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga83de7a88c9e1a41be0a421669369dbd0">sr_session_new</a> (struct <a class="el" href="a00186.html">sr_context</a> *ctx, struct <a class="el" href="a00190.html">sr_session</a> **new_session)</td></tr>
<tr class="memdesc:ga83de7a88c9e1a41be0a421669369dbd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new session.  <a href="a00076.html#ga83de7a88c9e1a41be0a421669369dbd0">More...</a><br /></td></tr>
<tr class="separator:ga83de7a88c9e1a41be0a421669369dbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1b7200161c362ee2fc5c0fe88586462"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gaf1b7200161c362ee2fc5c0fe88586462">sr_session_destroy</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:gaf1b7200161c362ee2fc5c0fe88586462"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a session.  <a href="a00076.html#gaf1b7200161c362ee2fc5c0fe88586462">More...</a><br /></td></tr>
<tr class="separator:gaf1b7200161c362ee2fc5c0fe88586462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad77b8c141a6e158fa474d6e9281ca77c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gad77b8c141a6e158fa474d6e9281ca77c">sr_session_dev_remove_all</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:gad77b8c141a6e158fa474d6e9281ca77c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all the devices from a session.  <a href="a00076.html#gad77b8c141a6e158fa474d6e9281ca77c">More...</a><br /></td></tr>
<tr class="separator:gad77b8c141a6e158fa474d6e9281ca77c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac037d037baecc2b3679044d2b7c3bad3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gac037d037baecc2b3679044d2b7c3bad3">sr_session_dev_add</a> (struct <a class="el" href="a00190.html">sr_session</a> *session, struct sr_dev_inst *sdi)</td></tr>
<tr class="memdesc:gac037d037baecc2b3679044d2b7c3bad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a device instance to a session.  <a href="a00076.html#gac037d037baecc2b3679044d2b7c3bad3">More...</a><br /></td></tr>
<tr class="separator:gac037d037baecc2b3679044d2b7c3bad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0753ea59f6f7f2f99bf6de35fab72400"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga0753ea59f6f7f2f99bf6de35fab72400">sr_session_dev_list</a> (struct <a class="el" href="a00190.html">sr_session</a> *session, GSList **devlist)</td></tr>
<tr class="memdesc:ga0753ea59f6f7f2f99bf6de35fab72400"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all device instances attached to a session.  <a href="a00076.html#ga0753ea59f6f7f2f99bf6de35fab72400">More...</a><br /></td></tr>
<tr class="separator:ga0753ea59f6f7f2f99bf6de35fab72400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad08ce13c738a985321596778bfc22273"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gad08ce13c738a985321596778bfc22273">sr_session_dev_remove</a> (struct <a class="el" href="a00190.html">sr_session</a> *session, struct sr_dev_inst *sdi)</td></tr>
<tr class="memdesc:gad08ce13c738a985321596778bfc22273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a device instance from a session.  <a href="a00076.html#gad08ce13c738a985321596778bfc22273">More...</a><br /></td></tr>
<tr class="separator:gad08ce13c738a985321596778bfc22273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga184a47240fd2a77038df65e85b7cd356"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga184a47240fd2a77038df65e85b7cd356">sr_session_datafeed_callback_remove_all</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:ga184a47240fd2a77038df65e85b7cd356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all datafeed callbacks in a session.  <a href="a00076.html#ga184a47240fd2a77038df65e85b7cd356">More...</a><br /></td></tr>
<tr class="separator:ga184a47240fd2a77038df65e85b7cd356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8675ef7da27e7dd4a54a2c09371272a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga8675ef7da27e7dd4a54a2c09371272a2">sr_session_datafeed_callback_add</a> (struct <a class="el" href="a00190.html">sr_session</a> *session, <a class="el" href="a00053.html#abe3dfadc282fa9e0cc1479a27feec66b">sr_datafeed_callback</a> cb, void *cb_data)</td></tr>
<tr class="memdesc:ga8675ef7da27e7dd4a54a2c09371272a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a datafeed callback to a session.  <a href="a00076.html#ga8675ef7da27e7dd4a54a2c09371272a2">More...</a><br /></td></tr>
<tr class="separator:ga8675ef7da27e7dd4a54a2c09371272a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b2382d16a6b005f7d22e77b78cc32ec"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="a00106.html">sr_trigger</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga9b2382d16a6b005f7d22e77b78cc32ec">sr_session_trigger_get</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:ga9b2382d16a6b005f7d22e77b78cc32ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the trigger assigned to this session.  <a href="a00076.html#ga9b2382d16a6b005f7d22e77b78cc32ec">More...</a><br /></td></tr>
<tr class="separator:ga9b2382d16a6b005f7d22e77b78cc32ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a72faea3441cb5e9e42079ecb2f4651"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga0a72faea3441cb5e9e42079ecb2f4651">sr_session_trigger_set</a> (struct <a class="el" href="a00190.html">sr_session</a> *session, struct <a class="el" href="a00106.html">sr_trigger</a> *trig)</td></tr>
<tr class="memdesc:ga0a72faea3441cb5e9e42079ecb2f4651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the trigger of this session.  <a href="a00076.html#ga0a72faea3441cb5e9e42079ecb2f4651">More...</a><br /></td></tr>
<tr class="separator:ga0a72faea3441cb5e9e42079ecb2f4651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac6e5af8f883193213a60b21f9f16432"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gaac6e5af8f883193213a60b21f9f16432">sr_session_start</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:gaac6e5af8f883193213a60b21f9f16432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a session.  <a href="a00076.html#gaac6e5af8f883193213a60b21f9f16432">More...</a><br /></td></tr>
<tr class="separator:gaac6e5af8f883193213a60b21f9f16432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga183fd38711238188c9cd798684a867dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga183fd38711238188c9cd798684a867dd">sr_session_run</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:ga183fd38711238188c9cd798684a867dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block until the running session stops.  <a href="a00076.html#ga183fd38711238188c9cd798684a867dd">More...</a><br /></td></tr>
<tr class="separator:ga183fd38711238188c9cd798684a867dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d7668d5dc7dce074cc427d847283d93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga5d7668d5dc7dce074cc427d847283d93">sr_session_stop</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:ga5d7668d5dc7dce074cc427d847283d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a session.  <a href="a00076.html#ga5d7668d5dc7dce074cc427d847283d93">More...</a><br /></td></tr>
<tr class="separator:ga5d7668d5dc7dce074cc427d847283d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga030b75ad7e5736f34ff1961fe48c7a7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga030b75ad7e5736f34ff1961fe48c7a7e">sr_session_is_running</a> (struct <a class="el" href="a00190.html">sr_session</a> *session)</td></tr>
<tr class="memdesc:ga030b75ad7e5736f34ff1961fe48c7a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether the session is currently running.  <a href="a00076.html#ga030b75ad7e5736f34ff1961fe48c7a7e">More...</a><br /></td></tr>
<tr class="separator:ga030b75ad7e5736f34ff1961fe48c7a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba31aafc42478ea8991f16361586a96e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gaba31aafc42478ea8991f16361586a96e">sr_session_stopped_callback_set</a> (struct <a class="el" href="a00190.html">sr_session</a> *session, <a class="el" href="a00053.html#a5a47dcc64d187d380133c1986fce7bfd">sr_session_stopped_callback</a> cb, void *cb_data)</td></tr>
<tr class="memdesc:gaba31aafc42478ea8991f16361586a96e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the callback to be invoked after a session stopped running.  <a href="a00076.html#gaba31aafc42478ea8991f16361586a96e">More...</a><br /></td></tr>
<tr class="separator:gaba31aafc42478ea8991f16361586a96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf484c0abf0aed79a5de4dfb985246680"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gaf484c0abf0aed79a5de4dfb985246680">sr_packet_copy</a> (const struct <a class="el" href="a00122.html">sr_datafeed_packet</a> *packet, struct <a class="el" href="a00122.html">sr_datafeed_packet</a> **copy)</td></tr>
<tr class="separator:gaf484c0abf0aed79a5de4dfb985246680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacefe885be96f97d263ccd2b44ddac7bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#gacefe885be96f97d263ccd2b44ddac7bc">sr_packet_free</a> (struct <a class="el" href="a00122.html">sr_datafeed_packet</a> *packet)</td></tr>
<tr class="separator:gacefe885be96f97d263ccd2b44ddac7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c71ff4871df5448ae3c6a6f2e1a7bfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#ga2c71ff4871df5448ae3c6a6f2e1a7bfd">sr_session_load</a> (struct <a class="el" href="a00186.html">sr_context</a> *ctx, const char *filename, struct <a class="el" href="a00190.html">sr_session</a> **session)</td></tr>
<tr class="memdesc:ga2c71ff4871df5448ae3c6a6f2e1a7bfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the session from the specified filename.  <a href="a00076.html#ga2c71ff4871df5448ae3c6a6f2e1a7bfd">More...</a><br /></td></tr>
<tr class="separator:ga2c71ff4871df5448ae3c6a6f2e1a7bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Creating, using, or destroying libsigrok sessions. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf484c0abf0aed79a5de4dfb985246680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf484c0abf0aed79a5de4dfb985246680">&#9670;&nbsp;</a></span>sr_packet_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_packet_copy </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="a00122.html">sr_datafeed_packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="a00122.html">sr_datafeed_packet</a> **&#160;</td>
          <td class="paramname"><em>copy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l01490">1490</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00506">sr_datafeed_meta::config</a>, <a class="el" href="a00050_source.html#l00495">sr_datafeed_packet::payload</a>, <a class="el" href="a00050_source.html#l00165">SR_DF_END</a>, <a class="el" href="a00050_source.html#l00163">SR_DF_HEADER</a>, <a class="el" href="a00050_source.html#l00167">SR_DF_META</a>, <a class="el" href="a00050_source.html#l00169">SR_DF_TRIGGER</a>, and <a class="el" href="a00050_source.html#l00494">sr_datafeed_packet::type</a>.</p>

</div>
</div>
<a id="gacefe885be96f97d263ccd2b44ddac7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacefe885be96f97d263ccd2b44ddac7bc">&#9670;&nbsp;</a></span>sr_packet_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sr_packet_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00122.html">sr_datafeed_packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l01561">1561</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00545">sr_analog_meaning::channels</a>, <a class="el" href="a00050_source.html#l00506">sr_datafeed_meta::config</a>, <a class="el" href="a00050_source.html#l00513">sr_datafeed_logic::data</a>, <a class="el" href="a00050_source.html#l00518">sr_datafeed_analog::data</a>, <a class="el" href="a00050_source.html#l00644">sr_config::data</a>, <a class="el" href="a00050_source.html#l00520">sr_datafeed_analog::encoding</a>, <a class="el" href="a00050_source.html#l00521">sr_datafeed_analog::meaning</a>, <a class="el" href="a00050_source.html#l00495">sr_datafeed_packet::payload</a>, <a class="el" href="a00050_source.html#l00522">sr_datafeed_analog::spec</a>, <a class="el" href="a00050_source.html#l00177">SR_DF_ANALOG</a>, <a class="el" href="a00050_source.html#l00165">SR_DF_END</a>, <a class="el" href="a00050_source.html#l00163">SR_DF_HEADER</a>, <a class="el" href="a00050_source.html#l00171">SR_DF_LOGIC</a>, <a class="el" href="a00050_source.html#l00167">SR_DF_META</a>, <a class="el" href="a00050_source.html#l00169">SR_DF_TRIGGER</a>, and <a class="el" href="a00050_source.html#l00494">sr_datafeed_packet::type</a>.</p>

</div>
</div>
<a id="ga8675ef7da27e7dd4a54a2c09371272a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8675ef7da27e7dd4a54a2c09371272a2">&#9670;&nbsp;</a></span>sr_session_datafeed_callback_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_datafeed_callback_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00053.html#abe3dfadc282fa9e0cc1479a27feec66b">sr_datafeed_callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a datafeed callback to a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL. </td></tr>
    <tr><td class="paramname">cb</td><td>Function to call when a chunk of data is received. Must not be NULL. </td></tr>
    <tr><td class="paramname">cb_data</td><td>Opaque pointer passed in by the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_BUG</td><td>No session exists.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00483">483</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, <a class="el" href="a00050_source.html#l00071">SR_ERR_BUG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="ga184a47240fd2a77038df65e85b7cd356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga184a47240fd2a77038df65e85b7cd356">&#9670;&nbsp;</a></span>sr_session_datafeed_callback_remove_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_datafeed_callback_remove_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all datafeed callbacks in a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00457">457</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="gaf1b7200161c362ee2fc5c0fe88586462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1b7200161c362ee2fc5c0fe88586462">&#9670;&nbsp;</a></span>sr_session_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a session. </p>
<p>This frees up all memory used by the session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to destroy. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00250">250</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00035_source.html#l00284">sr_session_dev_remove_all()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="a00076_gaf1b7200161c362ee2fc5c0fe88586462_cgraph.png" border="0" usemap="#aa00076_gaf1b7200161c362ee2fc5c0fe88586462_cgraph" alt=""/></div>
<map name="aa00076_gaf1b7200161c362ee2fc5c0fe88586462_cgraph" id="aa00076_gaf1b7200161c362ee2fc5c0fe88586462_cgraph">
<area shape="rect" title="Destroy a session." alt="" coords="5,5,140,32"/>
<area shape="rect" href="a00076.html#gad77b8c141a6e158fa474d6e9281ca77c" title="Remove all the devices from a session." alt="" coords="188,5,371,32"/>
</map>
</div>

</div>
</div>
<a id="gac037d037baecc2b3679044d2b7c3bad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac037d037baecc2b3679044d2b7c3bad3">&#9670;&nbsp;</a></span>sr_session_dev_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_dev_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sr_dev_inst *&#160;</td>
          <td class="paramname"><em>sdi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a device instance to a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to add to. Must not be NULL. </td></tr>
    <tr><td class="paramname">sdi</td><td>The device instance to add to a session. Must not be NULL. Also, sdi-&gt;driver and sdi-&gt;driver-&gt;dev_open must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00318">318</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00023_source.html#l00893">sr_config_commit()</a>, <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, <a class="el" href="a00050_source.html#l00071">SR_ERR_BUG</a>, <a class="el" href="a00050_source.html#l00067">SR_OK</a>, and <a class="el" href="a00020_source.html#l00053">sr_strerror()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="a00076_gac037d037baecc2b3679044d2b7c3bad3_cgraph.png" border="0" usemap="#aa00076_gac037d037baecc2b3679044d2b7c3bad3_cgraph" alt=""/></div>
<map name="aa00076_gac037d037baecc2b3679044d2b7c3bad3_cgraph" id="aa00076_gac037d037baecc2b3679044d2b7c3bad3_cgraph">
<area shape="rect" title="Add a device instance to a session." alt="" coords="5,31,147,57"/>
<area shape="rect" href="a00073.html#ga392e481fc872786f871b5c7ce3934087" title="Apply configuration settings to the device hardware." alt="" coords="195,5,320,32"/>
<area shape="rect" href="a00072.html#ga7aacfdde4d4f0b3a64d50797f3c10103" title="Return a human&#45;readable error string for the given libsigrok error code." alt="" coords="217,56,298,83"/>
</map>
</div>

</div>
</div>
<a id="ga0753ea59f6f7f2f99bf6de35fab72400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0753ea59f6f7f2f99bf6de35fab72400">&#9670;&nbsp;</a></span>sr_session_dev_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_dev_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSList **&#160;</td>
          <td class="paramname"><em>devlist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List all device instances attached to a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL. </td></tr>
    <tr><td class="paramname">devlist</td><td>A pointer where the device instance list will be stored on return. If no devices are in the session, this will be NULL. Each element in the list points to a struct sr_dev_inst *. The list must be freed by the caller, but not the elements pointed to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00395">395</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="gad08ce13c738a985321596778bfc22273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad08ce13c738a985321596778bfc22273">&#9670;&nbsp;</a></span>sr_session_dev_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_dev_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sr_dev_inst *&#160;</td>
          <td class="paramname"><em>sdi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a device instance from a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to remove from. Must not be NULL. </td></tr>
    <tr><td class="paramname">sdi</td><td>The device instance to remove from a session. Must not be NULL. Also, sdi-&gt;driver and sdi-&gt;driver-&gt;dev_open must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00421">421</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="gad77b8c141a6e158fa474d6e9281ca77c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad77b8c141a6e158fa474d6e9281ca77c">&#9670;&nbsp;</a></span>sr_session_dev_remove_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_dev_remove_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all the devices from a session. </p>
<p>The session itself (i.e., the struct <a class="el" href="a00190.html" title="Opaque structure representing a libsigrok session.">sr_session</a>) is not free'd and still exists after this function returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_BUG</td><td>Invalid session passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00284">284</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

<p class="reference">Referenced by <a class="el" href="a00035_source.html#l00250">sr_session_destroy()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="a00076_gad77b8c141a6e158fa474d6e9281ca77c_icgraph.png" border="0" usemap="#aa00076_gad77b8c141a6e158fa474d6e9281ca77c_icgraph" alt=""/></div>
<map name="aa00076_gad77b8c141a6e158fa474d6e9281ca77c_icgraph" id="aa00076_gad77b8c141a6e158fa474d6e9281ca77c_icgraph">
<area shape="rect" title="Remove all the devices from a session." alt="" coords="188,5,371,32"/>
<area shape="rect" href="a00076.html#gaf1b7200161c362ee2fc5c0fe88586462" title="Destroy a session." alt="" coords="5,5,140,32"/>
</map>
</div>

</div>
</div>
<a id="ga030b75ad7e5736f34ff1961fe48c7a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga030b75ad7e5736f34ff1961fe48c7a7e">&#9670;&nbsp;</a></span>sr_session_is_running()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_is_running </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return whether the session is currently running. </p>
<p>Note that this function should be called from the same thread the session was started in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Session is running. </td></tr>
    <tr><td class="paramname">FALSE</td><td>Session is not running. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00988">988</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>.</p>

</div>
</div>
<a id="ga2c71ff4871df5448ae3c6a6f2e1a7bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c71ff4871df5448ae3c6a6f2e1a7bfd">&#9670;&nbsp;</a></span>sr_session_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_load </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00186.html">sr_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> **&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the session from the specified filename. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The context in which to load the session. </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the session file to load. </td></tr>
    <tr><td class="paramname">session</td><td>The session to load the file into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success </td></tr>
    <tr><td class="paramname">SR_ERR_MALLOC</td><td>Memory allocation error </td></tr>
    <tr><td class="paramname">SR_ERR_DATA</td><td>Malformed session file </td></tr>
    <tr><td class="paramname">SR_ERR</td><td>This is not a session file </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00038_source.html#l00207">207</a> of file <a class="el" href="a00038_source.html">session_file.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00090">SR_MAX_CHANNELNAME_LEN</a>.</p>

</div>
</div>
<a id="ga83de7a88c9e1a41be0a421669369dbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83de7a88c9e1a41be0a421669369dbd0">&#9670;&nbsp;</a></span>sr_session_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00186.html">sr_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> **&#160;</td>
          <td class="paramname"><em>new_session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The context in which to create the new session. </td></tr>
    <tr><td class="paramname">new_session</td><td>This will contain a pointer to the newly created session if the return value is SR_OK, otherwise the value is undefined and should not be used. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00215">215</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="ga183fd38711238188c9cd798684a867dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga183fd38711238188c9cd798684a867dd">&#9670;&nbsp;</a></span>sr_session_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block until the running session stops. </p>
<p>This is a convenience function which creates a GLib main loop and runs it to process session events until the session stops.</p>
<p>Instead of using this function, applications may run their own GLib main loop, and use <a class="el" href="a00076.html#gaba31aafc42478ea8991f16361586a96e" title="Set the callback to be invoked after a session stopped running.">sr_session_stopped_callback_set()</a> to receive notification when the session finished running.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed. </td></tr>
    <tr><td class="paramname">SR_ERR</td><td>Other error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00868">868</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00068">SR_ERR</a>, <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="gaac6e5af8f883193213a60b21f9f16432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac6e5af8f883193213a60b21f9f16432">&#9670;&nbsp;</a></span>sr_session_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a session. </p>
<p>When this function returns with a status code indicating success, the session is running. Use <a class="el" href="a00076.html#gaba31aafc42478ea8991f16361586a96e" title="Set the callback to be invoked after a session stopped running.">sr_session_stopped_callback_set()</a> to receive notification upon completion, or call <a class="el" href="a00076.html#ga183fd38711238188c9cd798684a867dd" title="Block until the running session stops.">sr_session_run()</a> to block until the session stops.</p>
<p>Session events will be processed in the context of the current thread. If a thread-default GLib main context has been set, and is not owned by any other thread, it will be used. Otherwise, libsigrok will create its own main context for the current thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed. </td></tr>
    <tr><td class="paramname">SR_ERR</td><td>Other error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00753">753</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00068">SR_ERR</a>, and <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>.</p>

</div>
</div>
<a id="ga5d7668d5dc7dce074cc427d847283d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d7668d5dc7dce074cc427d847283d93">&#9670;&nbsp;</a></span>sr_session_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a session. </p>
<p>This requests the drivers of each device participating in the session to abort the acquisition as soon as possible. Even after this function returns, event processing still continues until all devices have actually stopped.</p>
<p>Use <a class="el" href="a00076.html#gaba31aafc42478ea8991f16361586a96e" title="Set the callback to be invoked after a session stopped running.">sr_session_stopped_callback_set()</a> to receive notification when the event processing finished.</p>
<p>This function is reentrant. That is, it may be called from a different thread than the one executing the session, as long as it can be ensured that the session object is valid.</p>
<p>If the session is not running, <a class="el" href="a00076.html#ga5d7668d5dc7dce074cc427d847283d93" title="Stop a session.">sr_session_stop()</a> silently does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00946">946</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="gaba31aafc42478ea8991f16361586a96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba31aafc42478ea8991f16361586a96e">&#9670;&nbsp;</a></span>sr_session_stopped_callback_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_stopped_callback_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00053.html#a5a47dcc64d187d380133c1986fce7bfd">sr_session_stopped_callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the callback to be invoked after a session stopped running. </p>
<p>Install a callback to receive notification when a session run stopped. This can be used to integrate session execution with an existing main loop, without having to block in <a class="el" href="a00076.html#ga183fd38711238188c9cd798684a867dd" title="Block until the running session stops.">sr_session_run()</a>.</p>
<p>Note that the callback will be invoked in the context of the thread that calls <a class="el" href="a00076.html#gaac6e5af8f883193213a60b21f9f16432" title="Start a session.">sr_session_start()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL. </td></tr>
    <tr><td class="paramname">cb</td><td>The callback to invoke on session stop. May be NULL to unset. </td></tr>
    <tr><td class="paramname">cb_data</td><td>User data pointer to be passed to the callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid session passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l01016">1016</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
<a id="ga9b2382d16a6b005f7d22e77b78cc32ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b2382d16a6b005f7d22e77b78cc32ec">&#9670;&nbsp;</a></span>sr_session_trigger_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="a00106.html">sr_trigger</a>* sr_session_trigger_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the trigger assigned to this session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Invalid (NULL) session was passed to the function. </td></tr>
    <tr><td class="paramname">other</td><td>The trigger assigned to this session (can be NULL).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00518">518</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

</div>
</div>
<a id="ga0a72faea3441cb5e9e42079ecb2f4651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a72faea3441cb5e9e42079ecb2f4651">&#9670;&nbsp;</a></span>sr_session_trigger_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_trigger_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00190.html">sr_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="a00106.html">sr_trigger</a> *&#160;</td>
          <td class="paramname"><em>trig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the trigger of this session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session to use. Must not be NULL. </td></tr>
    <tr><td class="paramname">trig</td><td>The trigger to assign to this session. Can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SR_OK</td><td>Success. </td></tr>
    <tr><td class="paramname">SR_ERR_ARG</td><td>Invalid argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>0.4.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00035_source.html#l00537">537</a> of file <a class="el" href="a00035_source.html">session.c</a>.</p>

<p class="reference">References <a class="el" href="a00050_source.html#l00070">SR_ERR_ARG</a>, and <a class="el" href="a00050_source.html#l00067">SR_OK</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 15 2021 11:43:37 for libsigrok by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
